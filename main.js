!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__save-button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:".modal__error",errorVisibleClass:"modal__error_visible"};function t(e){Array.from(document.querySelectorAll(e.formSelector)).forEach(t=>{!function(e,t){const r=e.querySelector(t.submitButtonSelector),s=Array.from(e.querySelectorAll(t.inputSelector));n(s,r,t),s.forEach(e=>{e.addEventListener("input",e=>{!function(e,t){const n=e.closest(".modal__input-group").querySelector(t.errorClass);e.checkValidity()?(n.textContent="",o(e,n,t)):(n.textContent=e.validationMessage,function(e,t,o){e.classList.add(o.inputErrorClass),t.classList.add(o.errorVisibleClass)}(e,n,t))}(e.currentTarget,t),n(s,r,t)})})}(t,e)})}function o(e,t,o){e.classList.remove(o.inputErrorClass),t.classList.remove(o.errorVisibleClass)}function n(e,t,o){e.some(e=>!e.validity.valid)?(t.classList.add(o.inactiveButtonClass),t.disabled=!0):(t.classList.remove(o.inactiveButtonClass),t.disabled=!1)}function r(e,t){const r=Array.from(e.querySelectorAll(t.inputSelector)),s=e.querySelector(t.submitButtonSelector);r.forEach(e=>{const n=e.closest(".modal__input-group").querySelector(t.errorClass);o(e,n,t),n.textContent=""}),n(r,s,t)}t(e);const s=Array.from(document.querySelectorAll(".modal")),a=document.getElementById("edit-profile-modal"),c=document.getElementById("new-post-modal"),l=a.querySelector(".modal__close-button"),i=c.querySelector(".modal__close-button"),u=document.querySelector("button.profile__edit-button"),d=document.querySelector("button.profile__new-post-button"),m=a.querySelector(".modal__form"),p=m.querySelector("#profile-name"),f=m.querySelector("#profile-description"),_=document.querySelector(".profile__name"),y=document.querySelector(".profile__title"),v=c.querySelector(".modal__form"),S=v.querySelector("#profile-image"),g=v.querySelector("#profile-caption"),w=document.querySelector("#card-template").content,b=document.querySelector(".cards__container"),h=document.querySelector(".preview-modal"),q=h.querySelector(".preview-modal__close-button"),L=h.querySelector(".preview-modal__image"),E=h.querySelector(".preview-modal__caption"),C=[...s,h];function k(e){if("Escape"===e.key){const e=document.querySelector(".modal.modal_is-opened, .preview-modal.modal_is-opened");e&&A(e)}}function x({name:e,link:t}){const o=w.querySelector(".cards__item").cloneNode(!0),n=o.querySelector(".cards__name"),r=o.querySelector(".cards__image"),s=o.querySelector(".cards__heart"),a=o.querySelector(".cards__delete");return n.textContent=e,r.setAttribute("alt",e),r.src=t,r.addEventListener("click",function(o){E.textContent=e,L.src=t,L.alt=e,B(h)}),s.addEventListener("click",function(e){s.classList.toggle("cards__heart_liked")}),a.addEventListener("click",function(e){o.remove()}),o}function A(e,t="modal_is-opened"){e.classList.remove(t),document.removeEventListener("keydown",k)}function B(e,t="modal_is-opened"){e.classList.add(t),document.addEventListener("keydown",k)}t(e),C.forEach(e=>{e.addEventListener("click",t=>{(t.target.classList.contains("modal")||t.target.classList.contains("preview-modal"))&&A(e)})}),q.addEventListener("click",function(e){A(h)}),u.addEventListener("click",function(t){var o,n,s;B(a),o=f,n=_,s=y,p.value=n.textContent,o.value=s.textContent,console.log(`Name Input preloaded with ${n.textContent}\n  \n    Job Input preloaded with ${s.textContent}\n    `),r(m,e)}),l.addEventListener("click",function(e){A(a)}),d.addEventListener("click",function(e){B(c)}),i.addEventListener("click",function(e){A(c)}),m.addEventListener("submit",function(e){e.preventDefault();const t=p.value,o=f.value;var n,r,s;n=t,r=o,s=y,_.textContent=n,s.textContent=r,e.currentTarget.reset(),A(a),console.log(`Profile Edit Form Submitted with name ${t} and job description ${o}`)}),v.addEventListener("submit",function(t){t.preventDefault(),function(e,t){const o=x(e);t.prepend(o)}({link:S.value,name:g.value},b),t.currentTarget.reset(),function(e,t){const o=e.querySelector(t.submitButtonSelector);o.classList.add(t.inactiveButtonClass),o.disabled=!0}(v,e),r(v,e),A(c)}),[{name:"Val Thorens",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/1-photo-by-moritz-feldmann-from-pexels.jpg"},{name:"Restaurant terrace",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/2-photo-by-ceiline-from-pexels.jpg"},{name:"An outdoor cafe",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/3-photo-by-tubanur-dogan-from-pexels.jpg"},{name:"A very long bridge, over the forest and through the trees",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/4-photo-by-maurice-laschet-from-pexels.jpg"},{name:"Tunnel with morning light",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/5-photo-by-van-anh-nguyen-from-pexels.jpg"},{name:"Mountain house",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/6-photo-by-moritz-feldmann-from-pexels.jpg"},{name:"Landscape view",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/7-photo-by-griffin-wooldridge-from-pexels.jpg"}].forEach(e=>{const t=x(e);b.prepend(t)})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SWEsY0FBY3FFLFFBRWxCakMsRUFBVzFCLEdBRVhtRCxRQUFRQyxJQUNOLHlDQUF5Q0UseUJBQW1DQyxJQUVoRixHQXdCQTNDLEVBQW1CcEMsaUJBQWlCLFNBaEJwQyxTQUE2QkMsR0FDM0JBLEVBQUk0RSxpQkFQTixTQUFvQk8sRUFBTUMsR0FDeEIsTUFBTS9CLEVBQWNILEVBQWVpQyxHQUVuQ0MsRUFBVUMsUUFBUWhDLEVBQ3BCLENBT0VpQyxDQUZhLENBQUVsQyxLQUFNaEIsRUFBVXFDLE1BQU90QixLQUFNZCxFQUFhb0MsT0FFeENqQyxHQUNqQnhDLEVBQUlhLGNBQWNxRSxRRGxIcEIsU0FBdUIxRixFQUFhQyxHQUNsQyxNQUFNdUIsRUFBZ0J4QixFQUFZRyxjQUFjRixFQUFPYixzQkFDdkRvQyxFQUFjUCxVQUFVQyxJQUFJakIsRUFBT1oscUJBQ25DbUMsRUFBY0ksVUFBVyxDQUMzQixDQ2dIRW1FLENBQWNwRCxFQUFvQjFELEdBQ2xDNEMsRUFBZ0JjLEVBQW9CMUQsR0FFcEN3RSxFQUFXeEIsRUFDYixHQU1xQixDQUNuQixDQUNFMEIsS0FBTSxjQUNOQyxLQUFNLDJIQUVSLENBQ0VELEtBQU0scUJBQ05DLEtBQU0sbUhBRVIsQ0FDRUQsS0FBTSxrQkFDTkMsS0FBTSx5SEFFUixDQUNFRCxLQUFNLDREQUNOQyxLQUFNLDJIQUVSLENBQ0VELEtBQU0sNEJBQ05DLEtBQU0sMEhBRVIsQ0FDRUQsS0FBTSxpQkFDTkMsS0FBTSwySEFFUixDQUNFRCxLQUFNLGlCQUNOQyxLQUFNLCtIQUlHOUQsUUFBU2tHLElBQ3BCLE1BQU1DLEVBQVd2QyxFQUFlc0MsR0FFaENoRCxFQUFZNkMsUUFBUUksSSIsInNvdXJjZXMiOlsid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvc2NyaXB0cy92YWxpZGF0aW9uLmpzIiwid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgc2V0dGluZ3MgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fc2F2ZS1idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcIi5tb2RhbF9fZXJyb3JcIixcclxuICBlcnJvclZpc2libGVDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxyXG59O1xyXG5cclxuZnVuY3Rpb24gZW5hYmxlVmFsaWRhdGlvbihzZXR0aW5ncykge1xyXG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNldHRpbmdzLmZvcm1TZWxlY3RvcikpO1xyXG5cclxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtKSA9PiB7XHJcbiAgICBzZXRFdmVudExpc3RlbmVycyhmb3JtLCBzZXR0aW5ncyk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQsIGNvbmZpZykge1xyXG4gIGNvbnN0IGVycm9yU3BhbiA9IGlucHV0RWxlbWVudFxyXG4gICAgLmNsb3Nlc3QoXCIubW9kYWxfX2lucHV0LWdyb3VwXCIpXHJcbiAgICAucXVlcnlTZWxlY3Rvcihjb25maWcuZXJyb3JDbGFzcyk7XHJcblxyXG4gIGlmICghaW5wdXRFbGVtZW50LmNoZWNrVmFsaWRpdHkoKSkge1xyXG4gICAgZXJyb3JTcGFuLnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvclNwYW4sIGNvbmZpZyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGVycm9yU3Bhbi50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBoaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yU3BhbiwgY29uZmlnKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dJbnB1dEVycm9yKGlucHV0LCBtb2RhbCwgc2V0dGluZ3MpIHtcclxuICBpbnB1dC5jbGFzc0xpc3QuYWRkKHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgbW9kYWwuY2xhc3NMaXN0LmFkZChzZXR0aW5ncy5lcnJvclZpc2libGVDbGFzcyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhpZGVJbnB1dEVycm9yKGlucHV0LCBtb2RhbCwgc2V0dGluZ3MpIHtcclxuICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShzZXR0aW5ncy5lcnJvclZpc2libGVDbGFzcyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKSB7XHJcbiAgY29uc3QgaGFzSW52YWxpZElucHV0ID0gaW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgfSk7XHJcblxyXG4gIGlmIChoYXNJbnZhbGlkSW5wdXQpIHtcclxuICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldEV2ZW50TGlzdGVuZXJzKGZvcm1FbGVtZW50LCBjb25maWcpIHtcclxuICBjb25zdCBidXR0b25FbGVtID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcihjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dFNlbGVjdG9yKVxyXG4gICk7XHJcblxyXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbSwgY29uZmlnKTtcclxuXHJcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGNoZWNrSW5wdXRWYWxpZGl0eShldnQuY3VycmVudFRhcmdldCwgY29uZmlnKTtcclxuICAgICAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtLCBjb25maWcpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsZWFyVmFsaWRhdGlvbihmb3JtRWxlbWVudCwgY29uZmlnKSB7XHJcbiAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgIGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmlucHV0U2VsZWN0b3IpXHJcbiAgKTtcclxuICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcihjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG5cclxuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCBlcnJvclNwYW4gPSBpbnB1dEVsZW1lbnRcclxuICAgICAgLmNsb3Nlc3QoXCIubW9kYWxfX2lucHV0LWdyb3VwXCIpXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5lcnJvckNsYXNzKTtcclxuXHJcbiAgICBoaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yU3BhbiwgY29uZmlnKTtcclxuICAgIGVycm9yU3Bhbi50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfSk7XHJcblxyXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGlzYWJsZUJ1dHRvbihmb3JtRWxlbWVudCwgY29uZmlnKSB7XHJcbiAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG59XHJcblxyXG5lbmFibGVWYWxpZGF0aW9uKHNldHRpbmdzKTtcclxuXHJcbmV4cG9ydCB7IHNldHRpbmdzLCBjbGVhclZhbGlkYXRpb24sIGVuYWJsZVZhbGlkYXRpb24sIGRpc2FibGVCdXR0b24gfTtcclxuIiwiaW1wb3J0IHtcclxuICBzZXR0aW5ncyxcclxuICBjbGVhclZhbGlkYXRpb24sXHJcbiAgZGlzYWJsZUJ1dHRvbixcclxuICBlbmFibGVWYWxpZGF0aW9uLFxyXG59IGZyb20gXCIuLi9zY3JpcHRzL3ZhbGlkYXRpb24uanNcIjtcclxuXHJcbmltcG9ydCBzdHlsZXMgZnJvbSBcIi4vaW5kZXguY3NzXCI7XHJcblxyXG5jb25zdCBmb3JtTW9kYWxDb250YWluZXJzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsXCIpKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdC1wcm9maWxlLW1vZGFsXCIpO1xyXG5cclxuY29uc3QgcG9zdE1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXctcG9zdC1tb2RhbFwiKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVNb2RhbENsb3NlQnV0dG9uID0gcHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIubW9kYWxfX2Nsb3NlLWJ1dHRvblwiXHJcbik7XHJcblxyXG5jb25zdCBwb3N0TW9kYWxDbG9zZUJ1dHRvbiA9IHBvc3RNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZS1idXR0b25cIik7XHJcblxyXG5jb25zdCBlZGl0UHJvZmlsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJidXR0b24ucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XHJcblxyXG5jb25zdCBuZXdQb3N0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJ1dHRvbi5wcm9maWxlX19uZXctcG9zdC1idXR0b25cIik7XHJcblxyXG5jb25zdCBwcm9maWxlRm9ybUVsZW1lbnQgPSBwcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuXHJcbmNvbnN0IG5hbWVJbnB1dCA9IHByb2ZpbGVGb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtbmFtZVwiKTtcclxuXHJcbmNvbnN0IGpvYklucHV0ID0gcHJvZmlsZUZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1kZXNjcmlwdGlvblwiKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVOYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVKb2JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX190aXRsZVwiKTtcclxuXHJcbmNvbnN0IGFkZENhcmRGb3JtRWxlbWVudCA9IHBvc3RNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG5cclxuY29uc3QgbGlua0lucHV0ID0gYWRkQ2FyZEZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1pbWFnZVwiKTtcclxuXHJcbmNvbnN0IGNhcHRpb25JbnB1dCA9IGFkZENhcmRGb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtY2FwdGlvblwiKTtcclxuXHJcbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKS5jb250ZW50O1xyXG5cclxuY29uc3QgY2FyZFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19jb250YWluZXJcIik7XHJcblxyXG5jb25zdCBpbWFnZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcmV2aWV3LW1vZGFsXCIpO1xyXG5jb25zdCBpbWFnZU1vZGFsQ2xvc2VCdXR0b24gPSBpbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucHJldmlldy1tb2RhbF9fY2xvc2UtYnV0dG9uXCJcclxuKTtcclxuY29uc3QgbW9kYWxJbWFnZSA9IGltYWdlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5wcmV2aWV3LW1vZGFsX19pbWFnZVwiKTtcclxuY29uc3QgbW9kYWxDYXB0aW9uID0gaW1hZ2VNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLnByZXZpZXctbW9kYWxfX2NhcHRpb25cIik7XHJcblxyXG5jb25zdCBhbGxNb2RhbHMgPSBbLi4uZm9ybU1vZGFsQ29udGFpbmVycywgaW1hZ2VNb2RhbF07XHJcblxyXG5lbmFibGVWYWxpZGF0aW9uKHNldHRpbmdzKTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUVzY2FwZUtleShldnQpIHtcclxuICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgY29uc3Qgb3Blbk1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIubW9kYWwubW9kYWxfaXMtb3BlbmVkLCAucHJldmlldy1tb2RhbC5tb2RhbF9pcy1vcGVuZWRcIlxyXG4gICAgKTtcclxuICAgIGlmIChvcGVuTW9kYWwpIHtcclxuICAgICAgY2xvc2VNb2RhbChvcGVuTW9kYWwpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2V0TW9kYWxDbG9zZUV2ZW50TGlzdGVuZXJzKG1vZGFscykge1xyXG4gIG1vZGFscy5mb3JFYWNoKChtb2RhbCkgPT4ge1xyXG4gICAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxcIikgfHxcclxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInByZXZpZXctbW9kYWxcIilcclxuICAgICAgKSB7XHJcbiAgICAgICAgY2xvc2VNb2RhbChtb2RhbCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcblxyXG5zZXRNb2RhbENsb3NlRXZlbnRMaXN0ZW5lcnMoYWxsTW9kYWxzKTtcclxuXHJcbmZ1bmN0aW9uIGdldENhcmRFbGVtZW50KHsgbmFtZSwgbGluayB9KSB7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkVGVtcGxhdGVcclxuICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19pdGVtXCIpXHJcbiAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICBjb25zdCBjYXJkVGl0bGUgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19uYW1lXCIpO1xyXG4gIGNvbnN0IGNhcmRJbWFnZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2ltYWdlXCIpO1xyXG5cclxuICBjb25zdCBsaWtlQnRuID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19faGVhcnRcIik7XHJcbiAgY29uc3QgZGVsZXRlQnRuID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fZGVsZXRlXCIpO1xyXG5cclxuICBjYXJkVGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gIGNhcmRJbWFnZS5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgbmFtZSk7XHJcbiAgY2FyZEltYWdlLnNyYyA9IGxpbms7XHJcblxyXG4gIGNhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKF8pIHtcclxuICAgIG1vZGFsQ2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICBtb2RhbEltYWdlLnNyYyA9IGxpbms7XHJcbiAgICBtb2RhbEltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICBvcGVuTW9kYWwoaW1hZ2VNb2RhbCk7XHJcbiAgfSk7XHJcblxyXG4gIGxpa2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBsaWtlQnRuLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkc19faGVhcnRfbGlrZWRcIik7XHJcbiAgfSk7XHJcblxyXG4gIGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKF8pIHtcclxuICAgIGNhcmRFbGVtZW50LnJlbW92ZSgpO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsb3NlTW9kYWwobW9kYWxFbGVtLCBjbGFzc05hbWUgPSBcIm1vZGFsX2lzLW9wZW5lZFwiKSB7XHJcbiAgbW9kYWxFbGVtLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcclxuXHJcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRXNjYXBlS2V5KTtcclxufVxyXG5cclxuZnVuY3Rpb24gb3Blbk1vZGFsKG1vZGFsRWxlbSwgY2xhc3NOYW1lID0gXCJtb2RhbF9pcy1vcGVuZWRcIikge1xyXG4gIG1vZGFsRWxlbS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XHJcblxyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzY2FwZUtleSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByZWxvYWRGb3JtKG5hbWVpbnB1dCwgam9iaW5wdXQsIGN1cnJlbnROYW1lRWxlbSwgY3VycmVudEpvYkVsZW0pIHtcclxuICBuYW1laW5wdXQudmFsdWUgPSBjdXJyZW50TmFtZUVsZW0udGV4dENvbnRlbnQ7XHJcbiAgam9iaW5wdXQudmFsdWUgPSBjdXJyZW50Sm9iRWxlbS50ZXh0Q29udGVudDtcclxuXHJcbiAgY29uc29sZS5sb2coYE5hbWUgSW5wdXQgcHJlbG9hZGVkIHdpdGggJHtjdXJyZW50TmFtZUVsZW0udGV4dENvbnRlbnR9XFxuICBcclxuICAgIEpvYiBJbnB1dCBwcmVsb2FkZWQgd2l0aCAke2N1cnJlbnRKb2JFbGVtLnRleHRDb250ZW50fVxyXG4gICAgYCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFByb2ZpbGVUZXh0Q29udGVudChcclxuICBuYW1lSW5wdXRWYWwsXHJcbiAgam9iSW5wdXRWYWwsXHJcbiAgcHJvZmlsZU5hbWVFbGVtLFxyXG4gIGpvYkRlc2NyaXB0RWxlbVxyXG4pIHtcclxuICBwcm9maWxlTmFtZUVsZW0udGV4dENvbnRlbnQgPSBuYW1lSW5wdXRWYWw7XHJcblxyXG4gIGpvYkRlc2NyaXB0RWxlbS50ZXh0Q29udGVudCA9IGpvYklucHV0VmFsO1xyXG59XHJcblxyXG5pbWFnZU1vZGFsQ2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgY2xvc2VNb2RhbChpbWFnZU1vZGFsKTtcclxufSk7XHJcblxyXG5lZGl0UHJvZmlsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcclxuICBvcGVuTW9kYWwocHJvZmlsZU1vZGFsKTtcclxuICBwcmVsb2FkRm9ybShuYW1lSW5wdXQsIGpvYklucHV0LCBwcm9maWxlTmFtZUVsZW1lbnQsIHByb2ZpbGVKb2JFbGVtZW50KTtcclxuXHJcbiAgY2xlYXJWYWxpZGF0aW9uKHByb2ZpbGVGb3JtRWxlbWVudCwgc2V0dGluZ3MpO1xyXG59KTtcclxuXHJcbnByb2ZpbGVNb2RhbENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gIGNsb3NlTW9kYWwocHJvZmlsZU1vZGFsKTtcclxufSk7XHJcblxyXG5uZXdQb3N0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gIG9wZW5Nb2RhbChwb3N0TW9kYWwpO1xyXG59KTtcclxuXHJcbnBvc3RNb2RhbENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gIGNsb3NlTW9kYWwocG9zdE1vZGFsKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVGb3JtU3VibWl0KGV2dCkge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICBjb25zdCBwcm9maWxlTmFtZSA9IG5hbWVJbnB1dC52YWx1ZTtcclxuICBjb25zdCBqb2JEZXNjcmlwdGlvbiA9IGpvYklucHV0LnZhbHVlO1xyXG5cclxuICBzZXRQcm9maWxlVGV4dENvbnRlbnQoXHJcbiAgICBwcm9maWxlTmFtZSxcclxuICAgIGpvYkRlc2NyaXB0aW9uLFxyXG4gICAgcHJvZmlsZU5hbWVFbGVtZW50LFxyXG4gICAgcHJvZmlsZUpvYkVsZW1lbnRcclxuICApO1xyXG5cclxuICBldnQuY3VycmVudFRhcmdldC5yZXNldCgpO1xyXG5cclxuICBjbG9zZU1vZGFsKHByb2ZpbGVNb2RhbCk7XHJcblxyXG4gIGNvbnNvbGUubG9nKFxyXG4gICAgYFByb2ZpbGUgRWRpdCBGb3JtIFN1Ym1pdHRlZCB3aXRoIG5hbWUgJHtwcm9maWxlTmFtZX0gYW5kIGpvYiBkZXNjcmlwdGlvbiAke2pvYkRlc2NyaXB0aW9ufWBcclxuICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJDYXJkKGRhdGEsIGNvbnRhaW5lcikge1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gZ2V0Q2FyZEVsZW1lbnQoZGF0YSk7XHJcblxyXG4gIGNvbnRhaW5lci5wcmVwZW5kKGNhcmRFbGVtZW50KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQWRkQ2FyZFN1Ym1pdChldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgY29uc3QgZGF0YSA9IHsgbGluazogbGlua0lucHV0LnZhbHVlLCBuYW1lOiBjYXB0aW9uSW5wdXQudmFsdWUgfTtcclxuXHJcbiAgcmVuZGVyQ2FyZChkYXRhLCBjYXJkU2VjdGlvbik7XHJcbiAgZXZ0LmN1cnJlbnRUYXJnZXQucmVzZXQoKTtcclxuXHJcbiAgZGlzYWJsZUJ1dHRvbihhZGRDYXJkRm9ybUVsZW1lbnQsIHNldHRpbmdzKTtcclxuICBjbGVhclZhbGlkYXRpb24oYWRkQ2FyZEZvcm1FbGVtZW50LCBzZXR0aW5ncyk7XHJcblxyXG4gIGNsb3NlTW9kYWwocG9zdE1vZGFsKTtcclxufVxyXG5cclxucHJvZmlsZUZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlRm9ybVN1Ym1pdCk7XHJcblxyXG5hZGRDYXJkRm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVBZGRDYXJkU3VibWl0KTtcclxuXHJcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcIlZhbCBUaG9yZW5zXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvMS1waG90by1ieS1tb3JpdHotZmVsZG1hbm4tZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIlJlc3RhdXJhbnQgdGVycmFjZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzItcGhvdG8tYnktY2VpbGluZS1mcm9tLXBleGVscy5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiQW4gb3V0ZG9vciBjYWZlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvMy1waG90by1ieS10dWJhbnVyLWRvZ2FuLWZyb20tcGV4ZWxzLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJBIHZlcnkgbG9uZyBicmlkZ2UsIG92ZXIgdGhlIGZvcmVzdCBhbmQgdGhyb3VnaCB0aGUgdHJlZXNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9zcG90cy80LXBob3RvLWJ5LW1hdXJpY2UtbGFzY2hldC1mcm9tLXBleGVscy5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiVHVubmVsIHdpdGggbW9ybmluZyBsaWdodFwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzUtcGhvdG8tYnktdmFuLWFuaC1uZ3V5ZW4tZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIk1vdW50YWluIGhvdXNlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvNi1waG90by1ieS1tb3JpdHotZmVsZG1hbm4tZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhbmRzY2FwZSB2aWV3XCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvNy1waG90by1ieS1ncmlmZmluLXdvb2xkcmlkZ2UtZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgfSxcclxuXTtcclxuXHJcbmluaXRpYWxDYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XHJcbiAgY29uc3QgY2FyZEVsZW0gPSBnZXRDYXJkRWxlbWVudChjYXJkKTtcclxuXHJcbiAgY2FyZFNlY3Rpb24ucHJlcGVuZChjYXJkRWxlbSk7XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsic2V0dGluZ3MiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImVycm9yVmlzaWJsZUNsYXNzIiwiZW5hYmxlVmFsaWRhdGlvbiIsIkFycmF5IiwiZnJvbSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJmb3JtIiwiZm9ybUVsZW1lbnQiLCJjb25maWciLCJidXR0b25FbGVtIiwicXVlcnlTZWxlY3RvciIsImlucHV0TGlzdCIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiaW5wdXRFbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsImVycm9yU3BhbiIsImNsb3Nlc3QiLCJjaGVja1ZhbGlkaXR5IiwidGV4dENvbnRlbnQiLCJoaWRlSW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiaW5wdXQiLCJtb2RhbCIsImNsYXNzTGlzdCIsImFkZCIsInNob3dJbnB1dEVycm9yIiwiY2hlY2tJbnB1dFZhbGlkaXR5IiwiY3VycmVudFRhcmdldCIsInNldEV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlIiwiYnV0dG9uRWxlbWVudCIsInNvbWUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiZGlzYWJsZWQiLCJjbGVhclZhbGlkYXRpb24iLCJmb3JtTW9kYWxDb250YWluZXJzIiwicHJvZmlsZU1vZGFsIiwiZ2V0RWxlbWVudEJ5SWQiLCJwb3N0TW9kYWwiLCJwcm9maWxlTW9kYWxDbG9zZUJ1dHRvbiIsInBvc3RNb2RhbENsb3NlQnV0dG9uIiwiZWRpdFByb2ZpbGVCdXR0b24iLCJuZXdQb3N0QnV0dG9uIiwicHJvZmlsZUZvcm1FbGVtZW50IiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJwcm9maWxlTmFtZUVsZW1lbnQiLCJwcm9maWxlSm9iRWxlbWVudCIsImFkZENhcmRGb3JtRWxlbWVudCIsImxpbmtJbnB1dCIsImNhcHRpb25JbnB1dCIsImNhcmRUZW1wbGF0ZSIsImNvbnRlbnQiLCJjYXJkU2VjdGlvbiIsImltYWdlTW9kYWwiLCJpbWFnZU1vZGFsQ2xvc2VCdXR0b24iLCJtb2RhbEltYWdlIiwibW9kYWxDYXB0aW9uIiwiYWxsTW9kYWxzIiwiaGFuZGxlRXNjYXBlS2V5Iiwia2V5Iiwib3Blbk1vZGFsIiwiY2xvc2VNb2RhbCIsImdldENhcmRFbGVtZW50IiwibmFtZSIsImxpbmsiLCJjYXJkRWxlbWVudCIsImNsb25lTm9kZSIsImNhcmRUaXRsZSIsImNhcmRJbWFnZSIsImxpa2VCdG4iLCJkZWxldGVCdG4iLCJzZXRBdHRyaWJ1dGUiLCJzcmMiLCJfIiwiYWx0IiwiZSIsInRvZ2dsZSIsIm1vZGFsRWxlbSIsImNsYXNzTmFtZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0YXJnZXQiLCJjb250YWlucyIsImpvYmlucHV0IiwiY3VycmVudE5hbWVFbGVtIiwiY3VycmVudEpvYkVsZW0iLCJ2YWx1ZSIsImNvbnNvbGUiLCJsb2ciLCJwcmV2ZW50RGVmYXVsdCIsInByb2ZpbGVOYW1lIiwiam9iRGVzY3JpcHRpb24iLCJuYW1lSW5wdXRWYWwiLCJqb2JJbnB1dFZhbCIsImpvYkRlc2NyaXB0RWxlbSIsInJlc2V0IiwiZGF0YSIsImNvbnRhaW5lciIsInByZXBlbmQiLCJyZW5kZXJDYXJkIiwiZGlzYWJsZUJ1dHRvbiIsImNhcmQiLCJjYXJkRWxlbSJdLCJzb3VyY2VSb290IjoiIn0=